'use strict';

var _regeneratorRuntime = require('babel-runtime/regenerator')['default'];

var _interopRequireDefault = require('babel-runtime/helpers/interop-require-default')['default'];

var _chai = require('chai');

var _chai2 = _interopRequireDefault(_chai);

var _chaiAsPromised = require('chai-as-promised');

var _chaiAsPromised2 = _interopRequireDefault(_chaiAsPromised);

var _ = require('../..');

var _2 = _interopRequireDefault(_);

_chai2['default'].should();
_chai2['default'].use(_chaiAsPromised2['default']);

var capabilities = {
  "browserName": "chrome",
  "avd": "Nexus_5_API_25",
  "platformName": "Android",
  "platformVersion": "7.1",
  "deviceName": "Android Emulator",
  "chromeOptions": {
    "args": ["--no-first-run"]
  }
};

describe('createSession', function () {
  var _this = this;

  var driver = undefined;
  before(function () {
    driver = new _2['default']();
  });
  afterEach(function callee$1$0() {
    return _regeneratorRuntime.async(function callee$1$0$(context$2$0) {
      while (1) switch (context$2$0.prev = context$2$0.next) {
        case 0:
          context$2$0.next = 2;
          return _regeneratorRuntime.awrap(driver.deleteSession());

        case 2:
        case 'end':
          return context$2$0.stop();
      }
    }, null, _this);
  });
  it('should start chrome and dismiss the welcome dialog', function callee$1$0() {
    var appActivity;
    return _regeneratorRuntime.async(function callee$1$0$(context$2$0) {
      while (1) switch (context$2$0.prev = context$2$0.next) {
        case 0:
          context$2$0.next = 2;
          return _regeneratorRuntime.awrap(driver.createSession(capabilities));

        case 2:
          context$2$0.next = 4;
          return _regeneratorRuntime.awrap(driver.getCurrentActivity());

        case 4:
          appActivity = context$2$0.sent;

          appActivity.should.not.equal("org.chromium.chrome.browser.firstrun.FirstRunActivity");

        case 6:
        case 'end':
          return context$2$0.stop();
      }
    }, null, _this);
  });
});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInRlc3QvZnVuY3Rpb25hbC9jaHJvbWUtZTJlLXNwZWNzLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7OztvQkFBaUIsTUFBTTs7Ozs4QkFDSSxrQkFBa0I7Ozs7Z0JBQ25CLE9BQU87Ozs7QUFFakMsa0JBQUssTUFBTSxFQUFFLENBQUM7QUFDZCxrQkFBSyxHQUFHLDZCQUFnQixDQUFDOztBQUV6QixJQUFNLFlBQVksR0FBRztBQUNuQixlQUFhLEVBQUUsUUFBUTtBQUN2QixPQUFLLEVBQUUsZ0JBQWdCO0FBQ3ZCLGdCQUFjLEVBQUUsU0FBUztBQUN6QixtQkFBaUIsRUFBRSxLQUFLO0FBQ3hCLGNBQVksRUFBRSxrQkFBa0I7QUFDaEMsaUJBQWUsRUFBRTtBQUNmLFVBQU0sRUFBRSxDQUFDLGdCQUFnQixDQUFDO0dBQzNCO0NBQ0YsQ0FBQzs7QUFFRixRQUFRLENBQUMsZUFBZSxFQUFFLFlBQVk7OztBQUNwQyxNQUFJLE1BQU0sWUFBQSxDQUFDO0FBQ1gsUUFBTSxDQUFDLFlBQU07QUFDWCxVQUFNLEdBQUcsbUJBQW1CLENBQUM7R0FDOUIsQ0FBQyxDQUFDO0FBQ0gsV0FBUyxDQUFDOzs7OzsyQ0FDRixNQUFNLENBQUMsYUFBYSxFQUFFOzs7Ozs7O0dBQzdCLENBQUMsQ0FBQztBQUNILElBQUUsQ0FBQyxvREFBb0QsRUFBRTtRQUVuRCxXQUFXOzs7OzsyQ0FEVCxNQUFNLENBQUMsYUFBYSxDQUFDLFlBQVksQ0FBQzs7OzsyQ0FDaEIsTUFBTSxDQUFDLGtCQUFrQixFQUFFOzs7QUFBL0MscUJBQVc7O0FBQ2YscUJBQVcsQ0FBQyxNQUFNLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyx1REFBdUQsQ0FBQyxDQUFDOzs7Ozs7O0dBQ3ZGLENBQUMsQ0FBQztDQUNKLENBQUMsQ0FBQyIsImZpbGUiOiJ0ZXN0L2Z1bmN0aW9uYWwvY2hyb21lLWUyZS1zcGVjcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBjaGFpIGZyb20gJ2NoYWknO1xuaW1wb3J0IGNoYWlBc1Byb21pc2VkIGZyb20gJ2NoYWktYXMtcHJvbWlzZWQnO1xuaW1wb3J0IEFuZHJvaWREcml2ZXIgZnJvbSAnLi4vLi4nO1xuXG5jaGFpLnNob3VsZCgpO1xuY2hhaS51c2UoY2hhaUFzUHJvbWlzZWQpO1xuXG5jb25zdCBjYXBhYmlsaXRpZXMgPSB7XG4gIFwiYnJvd3Nlck5hbWVcIjogXCJjaHJvbWVcIixcbiAgXCJhdmRcIjogXCJOZXh1c181X0FQSV8yNVwiLFxuICBcInBsYXRmb3JtTmFtZVwiOiBcIkFuZHJvaWRcIixcbiAgXCJwbGF0Zm9ybVZlcnNpb25cIjogXCI3LjFcIixcbiAgXCJkZXZpY2VOYW1lXCI6IFwiQW5kcm9pZCBFbXVsYXRvclwiLFxuICBcImNocm9tZU9wdGlvbnNcIjoge1xuICAgIFwiYXJnc1wiOiBbXCItLW5vLWZpcnN0LXJ1blwiXVxuICB9ICBcbn07XG5cbmRlc2NyaWJlKCdjcmVhdGVTZXNzaW9uJywgZnVuY3Rpb24gKCkge1xuICBsZXQgZHJpdmVyO1xuICBiZWZvcmUoKCkgPT4ge1xuICAgIGRyaXZlciA9IG5ldyBBbmRyb2lkRHJpdmVyKCk7XG4gIH0pO1xuICBhZnRlckVhY2goYXN5bmMgKCkgPT4ge1xuICAgIGF3YWl0IGRyaXZlci5kZWxldGVTZXNzaW9uKCk7XG4gIH0pO1xuICBpdCgnc2hvdWxkIHN0YXJ0IGNocm9tZSBhbmQgZGlzbWlzcyB0aGUgd2VsY29tZSBkaWFsb2cnLCBhc3luYyAoKSA9PiB7XG4gICAgYXdhaXQgZHJpdmVyLmNyZWF0ZVNlc3Npb24oY2FwYWJpbGl0aWVzKTtcbiAgICBsZXQgYXBwQWN0aXZpdHkgPSBhd2FpdCBkcml2ZXIuZ2V0Q3VycmVudEFjdGl2aXR5KCk7XG4gICAgYXBwQWN0aXZpdHkuc2hvdWxkLm5vdC5lcXVhbChcIm9yZy5jaHJvbWl1bS5jaHJvbWUuYnJvd3Nlci5maXJzdHJ1bi5GaXJzdFJ1bkFjdGl2aXR5XCIpO1xuICB9KTtcbn0pO1xuIl0sInNvdXJjZVJvb3QiOiIuLi8uLi8uLiJ9
